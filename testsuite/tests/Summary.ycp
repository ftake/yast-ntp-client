/**
 * File:
 *  Summary.ycp
 *
 * Module:
 *  NTP client configurator
 *
 * Summary:
 *  Summary testsuite
 *
 * Authors:
 *  Jiri Srain <jsrain@suse.cz>
 *
 * $Id$
 *
 */

{
    include "testsuite.ycp";
    import "Progress";
    import "NtpClient";
    import "Mode";

    Mode::test = true;

    Progress::off ();

    NtpClient::Import ($[
	"start_at_boot" : true,
	"peers" : [
	    $[ "type": "server", "address": "10.20.30.40"],
	    $[ "type": "server", "address": "20.40.60.80"],
	    $[ "type": "peer", "address": "1.2.3.4"]
	],
    ]);
    TEST (``(NtpClient::Summary ()), [], nil);

    NtpClient::Import ($[
	"start_at_boot" : false,
	"peers" : [
	    $[ "type": "server", "address": "10.20.30.40"],
	    $[ "type": "server", "address": "20.40.60.80"],
	    $[ "type": "peer", "address": "1.2.3.4"]
	],
    ]);
    TEST (``(NtpClient::Summary ()), [], nil);

    NtpClient::Import ($[
	"start_at_boot" : true,
	"peers" : [
	],
    ]);
    TEST (``(NtpClient::Summary ()), [], nil);

    NtpClient::Import ($[
	"start_at_boot" : true,
	"peers" : [
	    $[ "type": "server", "address": "10.20.30.40"],
	    $[ "type": "server", "address": "20.40.60.80"],
	    $[ "type": "peer", "address": "1.2.3.4"],
	    $[ "type": "broadcast", "address": "255.255.255.255" ],
	    $[ "type": "broadcastclient", "address": "10.20.3.4" ],
	    $[ "type": "radio", "address": "127.127.1.2" ],
	],
    ]);
    TEST (``(NtpClient::Summary ()), [], nil);


}
